SLURM_JOB_ID: 62135645
SLURM_JOB_USER: vsc30140
SLURM_JOB_ACCOUNT: lpt2_sysadmin
SLURM_JOB_NAME: multicore_benchmark.slurm
SLURM_CLUSTER_NAME: wice
SLURM_JOB_PARTITION: batch_sapphirerapids
SLURM_NNODES: 1
SLURM_NODELIST: q16c28n1
SLURM_JOB_CPUS_PER_NODE: 72
Date: Mon Aug  5 16:57:44 CEST 2024
Walltime: 00-00:30:00
========================================================================
+ hyperfine --runs 3 'OMP_NUM_THREADS=1 ./dgemm.R --nr_matrices 144 --size 2000 --power 5 --nr_cores 1' 'OMP_NUM_THREADS=2 ./dgemm.R --nr_matrices 144 --size 2000 --power 5 --nr_cores 1' 'OMP_NUM_THREADS=4 ./dgemm.R --nr_matrices 144 --size 2000 --power 5 --nr_cores 1' 'OMP_NUM_THREADS=8 ./dgemm.R --nr_matrices 144 --size 2000 --power 5 --nr_cores 1' 'OMP_NUM_THREADS=12 ./dgemm.R --nr_matrices 144 --size 2000 --power 5 --nr_cores 1' 'OMP_NUM_THREADS=16 ./dgemm.R --nr_matrices 144 --size 2000 --power 5 --nr_cores 1' 'OMP_NUM_THREADS=24 ./dgemm.R --nr_matrices 144 --size 2000 --power 5 --nr_cores 1' 'OMP_NUM_THREADS=32 ./dgemm.R --nr_matrices 144 --size 2000 --power 5 --nr_cores 1'
Benchmark 1: OMP_NUM_THREADS=1 ./dgemm.R --nr_matrices 144 --size 2000 --power 5 --nr_cores 1
  Time (mean ± σ):     109.610 s ±  0.955 s    [User: 107.938 s, System: 0.592 s]
  Range (min … max):   109.056 s … 110.713 s    3 runs
 
  Warning: The first benchmarking run for this command was significantly slower than the rest (110.713 s). This could be caused by (filesystem) caches that were not filled until after the first run. You should consider using the '--warmup' option to fill those caches before the actual benchmark. Alternatively, use the '--prepare' option to clear the caches before each timing run.
 
Benchmark 2: OMP_NUM_THREADS=2 ./dgemm.R --nr_matrices 144 --size 2000 --power 5 --nr_cores 1
  Time (mean ± σ):     64.835 s ±  0.071 s    [User: 110.513 s, System: 0.924 s]
  Range (min … max):   64.778 s … 64.914 s    3 runs
 
Benchmark 3: OMP_NUM_THREADS=4 ./dgemm.R --nr_matrices 144 --size 2000 --power 5 --nr_cores 1
  Time (mean ± σ):     50.526 s ±  0.506 s    [User: 139.767 s, System: 7.118 s]
  Range (min … max):   49.960 s … 50.935 s    3 runs
 
Benchmark 4: OMP_NUM_THREADS=8 ./dgemm.R --nr_matrices 144 --size 2000 --power 5 --nr_cores 1
  Time (mean ± σ):     40.162 s ±  0.219 s    [User: 175.268 s, System: 14.600 s]
  Range (min … max):   39.910 s … 40.310 s    3 runs
 
Benchmark 5: OMP_NUM_THREADS=12 ./dgemm.R --nr_matrices 144 --size 2000 --power 5 --nr_cores 1
  Time (mean ± σ):     34.282 s ±  0.212 s    [User: 191.683 s, System: 14.032 s]
  Range (min … max):   34.088 s … 34.509 s    3 runs
 
Benchmark 6: OMP_NUM_THREADS=16 ./dgemm.R --nr_matrices 144 --size 2000 --power 5 --nr_cores 1
  Time (mean ± σ):     33.218 s ±  0.184 s    [User: 228.846 s, System: 22.010 s]
  Range (min … max):   33.012 s … 33.365 s    3 runs
 
Benchmark 7: OMP_NUM_THREADS=24 ./dgemm.R --nr_matrices 144 --size 2000 --power 5 --nr_cores 1
  Time (mean ± σ):     32.718 s ±  0.637 s    [User: 319.745 s, System: 37.177 s]
  Range (min … max):   32.248 s … 33.443 s    3 runs
 
Benchmark 8: OMP_NUM_THREADS=32 ./dgemm.R --nr_matrices 144 --size 2000 --power 5 --nr_cores 1
  Time (mean ± σ):     31.766 s ±  0.526 s    [User: 387.806 s, System: 50.736 s]
  Range (min … max):   31.382 s … 32.366 s    3 runs
 
Summary
  OMP_NUM_THREADS=32 ./dgemm.R --nr_matrices 144 --size 2000 --power 5 --nr_cores 1 ran
    1.03 ± 0.03 times faster than OMP_NUM_THREADS=24 ./dgemm.R --nr_matrices 144 --size 2000 --power 5 --nr_cores 1
    1.05 ± 0.02 times faster than OMP_NUM_THREADS=16 ./dgemm.R --nr_matrices 144 --size 2000 --power 5 --nr_cores 1
    1.08 ± 0.02 times faster than OMP_NUM_THREADS=12 ./dgemm.R --nr_matrices 144 --size 2000 --power 5 --nr_cores 1
    1.26 ± 0.02 times faster than OMP_NUM_THREADS=8 ./dgemm.R --nr_matrices 144 --size 2000 --power 5 --nr_cores 1
    1.59 ± 0.03 times faster than OMP_NUM_THREADS=4 ./dgemm.R --nr_matrices 144 --size 2000 --power 5 --nr_cores 1
    2.04 ± 0.03 times faster than OMP_NUM_THREADS=2 ./dgemm.R --nr_matrices 144 --size 2000 --power 5 --nr_cores 1
    3.45 ± 0.06 times faster than OMP_NUM_THREADS=1 ./dgemm.R --nr_matrices 144 --size 2000 --power 5 --nr_cores 1
